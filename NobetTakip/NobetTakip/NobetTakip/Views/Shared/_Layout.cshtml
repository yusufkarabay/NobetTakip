@using Microsoft.AspNetCore.Http;
@{
    if (Context.Session.GetString("Nobsis_PersonelId") == null)
        Context.Response.Redirect("/Account/Login");
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - NobetTakip</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style type="text/css">

        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: #F5F6FF;
            padding-top: 72px;
        }

        p {
            margin: 0;
            padding: 0;
        }

        label {
            font-weight: 700;
            font-size: 14px;
        }

        h6 { font-weight: 700; }

        .navbar {
            background-color: #010929;
        }

            .navbar a {
                text-decoration: none;
                color: #FFF;
            }

            .navbar .logged-user {
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: flex-start;
                height: 2rem;
            }

                .navbar .logged-user .user-info {
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                    height: 2rem;
                    margin-right: 1rem;
                }

                    .navbar .logged-user .user-info p {
                        display: inline;
                        font-size: 1rem;
                        font-style: normal;
                        font-weight: normal;
                        line-height: 19px;
                        text-align: right;
                        color: #FFFFFF;
                        margin: 0;
                        padding: 0;
                    }

                    .navbar .logged-user .user-info span {
                        font-style: normal;
                        font-weight: 600;
                        font-size: 10px;
                        line-height: 8px;
                        text-align: right;
                        letter-spacing: -0.05em;
                        color: #A1A9B9;
                    }

                .navbar .logged-user .user-img {
                    margin-left: .75rem;
                    width: 2rem;
                    height: 2rem;
                    border-radius: 50%;
                    background-color: cyan;
                }

                .navbar .logged-user .button {
                    margin-right: 0;
                }

        .bildirimler {
            text-decoration: none;
            width: 100%;
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 10px 12px;
            color: #FFFFFF;
            border-radius: 4px;
        }

        .bildirimler.zero-notification {
            background-color: #FFF;
        }

        .bildirimler.has-notification {
            background-color: #EB5757;
        }

            .bildirimler svg {
                width: 20px;
                height: 20px;
                margin-right: 16px;
                color: #FFF;
            }


            .bildirimler.zero-notification svg {
                color: #000000;
            }

            .bildirimler.has-notification svg {
                color: #FFF;
            }

            .bildirimler p {
                flex-grow: 1;
                font-style: normal;
                font-weight: 600;
                font-size: 14px;
                line-height: 17px;
            }

            .bildirimler.zero-notification p {
                color: #000000;
            }

            .bildirimler.has-notification p {
                color: #FFF;
            }

            .bildirimler span.badge {
                font-style: normal;
                font-weight: 600;
                font-size: 12px;
                line-height: 17px;
                text-align: center;
                width: 24px;
                height: 24px;
                border-radius: 50%;
            }

            .bildirimler.zero-notification span.badge {
                color: #000;
                background-color: #d0d0d0;
            }

            .bildirimler.has-notification span.badge {
                color: #EB5757;
                background-color: #ffffff;
            }

        .box-shadow {
            box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .mt-40 {
            margin-top: 40px;
        }

        .section-header {
            font-style: normal;
            font-weight: 600;
            font-size: 14px;
            line-height: 17px;
            color: #515969;
            margin-bottom: 12px;
        }

        .nobet-data {
            text-decoration: none;
            display: flex;
            flex-direction: column;
            padding: 1rem;
            height: auto;
            background-color: #ffffff;
            border-radius: 4px;
            border-top: 4px solid transparent;
            box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 1rem;
        }

            .nobet-data.first {
                border-top-color: #EB5757;
            }

            .nobet-data .command-row {
                display: flex;
                flex-direction: row;
                align-items: center;
                margin-top: .5rem;
            }


            .nobet-data .info-row {
                display: flex;
                flex-direction: row;
                margin-bottom: 12px;
            }

                .nobet-data .info-row:last-child {
                    margin-bottom: 0;
                }

                .nobet-data .info-row svg {
                    width: 20px;
                    height: 20px;
                    margin-right: 1rem;
                }

                .nobet-data .info-row.normal svg {
                    stroke: #717989;
                }

                .nobet-data .info-row.normal p {
                    font-style: normal;
                    font-size: 14px;
                    line-height: 20px;
                    color: #717989;
                }

                .nobet-data .info-row a {
                    display: inline-flex;
                    text-decoration: none;
                    flex-direction: row;
                }

                    .nobet-data .info-row.title p, .nobet-data .info-row a p {
                        flex-grow: 1;
                        color: #010929;
                        font-weight: 600;
                        font-style: normal;
                        font-size: 14px;
                        color: #010929;
                    }

                    .nobet-data .info-row.title svg, .nobet-data .info-row a svg {
                        stroke: #010929;
                    }

                        .nobet-data .info-row.title svg.action {
                            stroke: #2F80ED;
                        }

                .nobet-data .info-row .timepill {
                    display: inline-flex;
                    flex-direction: row;
                    align-items: center;
                    width: auto;
                    padding: .25rem .5rem;
                    border-radius: 4px;
                    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
                }

                    .nobet-data .info-row .timepill svg {
                        min-width: 16px;
                        width: 16px;
                        min-height: 16px;
                        height: 16px;
                        margin-right: 4px;
                    }

                    .nobet-data .info-row .timepill p {
                        text-align: left;
                        flex-grow: 1;
                        font-weight: 700;
                        font-size: .75rem;
                        line-height: 1;
                        letter-spacing: -0.05em;
                    }

                    .nobet-data .info-row .timepill.day {
                        background: #F6ECB4;
                    }

                        .nobet-data .info-row .timepill.day svg, .nobet-data .info-row .timepill.day p {
                            color: #947301;
                        }

                    .nobet-data .info-row .timepill.night {
                        background: #010929;
                    }

                        .nobet-data .info-row .timepill.night svg, .nobet-data .info-row .timepill.night p {
                            color: #fff;
                        }

                    .nobet-data .info-row .timepill.allday {
                        background: #D0E5F8;
                    }

                        .nobet-data .info-row .timepill.allday svg, .nobet-data .info-row .timepill.allday p {
                            color: #2A7AC5;
                        }


        .modal {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
        }

        .nd-request .modal-body {
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
            border-top: solid 4px #EB5757;
            padding-top: 24px;
        }

        .nd-request .modal-footer {
            border: none;
        }

        .nd-request h5 {
            font-style: normal;
            font-weight: normal;
            font-size: 18px;
            line-height: 22px;
            color: #000000;
        }

        .nd-request .btn-link {
            color: #717989;
            text-decoration: none;
        }

        .nd-request select, .nd-request textarea {
            font-size: 14px;
            background-color: #F0F0F0;
            color: #959595;
            outline-offset: 0;
            resize: none;
        }

        .btn-flat {
            background: none;
            border: none;
            width: auto;
            height: auto;
            margin: 0;
            padding: 0;
        }

        .svg-button {
            width: 20px;
            height: 20px;
        }

        a.button,
        button.button {
            text-decoration: none;
            display: inline-flex;
            flex-direction: row;
            align-items: center;
            padding: .5rem 1rem;
            margin-right: 1rem;
            border-radius: 6px;
            border: 1px solid #F0F0F0;
            font-size: 14px;
            font-weight: 700;
            letter-spacing: -0.05rem;
            background: #FFF;
            box-shadow: 0 3px 6px -3px rgba(0,0,0, .2);
            color: #000;
        }

            a.button svg,
            button.button svg {
                width: 16px;
                height: 16px;
                margin-right: .25rem;
            }

        @@media screen and (max-width: 576px) {
            .timepill {
                position: absolute;
                z-index: 2;
                right: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="navbar fixed-top">
        <div class="container">
            <a href="/" class="navbar-brand d-flex align-items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true" class="me-2" viewBox="0 0 24 24"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" /><circle cx="12" cy="13" r="4" /></svg>
                <strong>Nöbsis</strong>
            </a>
            @if (Context.Session.GetString("Nobsis_IsAdmin") != null && Context.Session.GetString("Nobsis_IsAdmin").ToString().Equals("admin"))
            {
                <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Yönetici Menüsü
                    </a>
                    <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDarkDropdownMenuLink">
                        <li><a class="dropdown-item" href="/nobet">Nöbet Yönetimi</a></li>
                        <li><a class="dropdown-item" href="/personel">Personel Yönetimi</a></li>
                        <li><a class="dropdown-item" href="/isletme">İşletme Bilgileri</a></li>
                    </ul>
                </div>
            }
            <div class="logged-user">
                <div class="user-info">
                    <p>@Context.Session.GetString("Nobsis_RealName")</p>
                    <span>@Context.Session.GetString("Nobsis_Isletme")</span>
                </div>
                <a class="logout-btn button" href="/account/logout">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                    </svg>
                    Çıkış Yap
                </a>
            </div>
        </div>
    </div>

    <div class="container">
        @RenderBody()
    </div>

    <footer class="mt-40 border-top footer text-muted pt-4">
        <div class="container">
            Nöbsis Nöbet Takip Sistemi &copy; Yusuf Karabay, 2021.
        </div>
    </footer>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
